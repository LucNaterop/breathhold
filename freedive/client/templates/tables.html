

<ion-view view-title="Tables">

	<!-- Navbar Buttons -->
	<ion-nav-buttons side="right">
		<a class="button button-clear button-icon ion-plus-round" ng-click="tables.addTable()"></a>
	</ion-nav-buttons>

	<ion-content class="has-header">
		<ion-list show-delete="shouldShowDelete">
			<!-- auto-generated tables -->
			<ion-item class="item item-icon-right" ui-sref="menu.staticTable({tableId: table._id })" ng-repeat="table in tables.tables" ng-if="table.description === 'Auto-generated'">
			    <ion-delete-button class="ion-minus-circled" ng-click="tables.deleteTable(table._id)"></ion-delete-button>
				<h2>{{table.name}}</h2>
				<p>Autogenerated</p>
				<i class="icon ion-chevron-right"></i>
			</ion-item>

			<!-- custom static tables -->
			<ion-item class="item item-icon-right" ui-sref="menu.staticTable({tableId: table._id })" ng-repeat="table in tables.tables" ng-if="table.description !== 'Auto-generated' && !table.isDynamic">
			    <ion-delete-button class="ion-minus-circled" ng-click="tables.deleteTable(table._id)"></ion-delete-button>
				<h2>{{table.name}}</h2>
				<p>Static Table</p>
				<i class="icon ion-chevron-right"></i>
			    <ion-option-button class="button-dark" ng-click="tables.edit(table)">
					Edit
			    </ion-option-button>
			    <ion-option-button class="button-assertive" ng-click="tables.delete(table)">
					Delete
			    </ion-option-button>
			</ion-item>

			<!-- custom dynamic tables -->
			<ion-item class="item item-icon-right" ui-sref="menu.dynamicTable({tableId: table._id })" ng-repeat="table in tables.tables" ng-if="table.description !== 'Auto-generated' && table.isDynamic">
			    <ion-delete-button class="ion-minus-circled" ng-click="tables.deleteTable(table._id)"></ion-delete-button>
				<h2>{{table.name}}</h2>
				<p>Dynamic Table</p>
				<i class="icon ion-chevron-right"></i>
			    <ion-option-button class="button-assertive" ng-click="tables.delete(table)">
					Delete
			    </ion-option-button>
			</ion-item>
		</ion-list>
		<p style="padding: 5px; text-align: center; color: #aaa">  
			<i class="icon ion-ios-information"></i> Swipe custom-made tables to edit
 		</p>

			<ul class="card list">
				<div class="item item-divider">
					History
				</div>
				<div class="item" href="#" ng-repeat="element in tables.tablesHistory">
					{{element.tableName}}
					<span class="item-note">
						{{element.createdAt | humanizeDuration}} ago
					</span>
				</div>
				<div class="item" ng-if="tables.tablesHistory.length == 0">
					Nothing here yet..
				</div>
			</ul>

	</ion-content>

</ion-view>

